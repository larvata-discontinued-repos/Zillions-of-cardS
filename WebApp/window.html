<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Zillions of cardS</title>
    <script src="scripts/jquery-2.0.3.min.js"></script>
    <script src="scripts/underscore-min.js"></script>
    <script src="scripts/backbone-min.js"></script>

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/zx.css">
    <script src="scripts/bootstrap.min.js"></script>
    <script src="db/abcout.js"></script>
    <script src="scripts/zxcard.js"></script>

    <script id="cardListTemplate" type="text/template">
    <%
    for (index in CardList){
        if (CardList[index].Filtered===false&&CardList[index].Disabled===false) {
            %>
            <a data-id='<%= CardList[index].Id %>'><span><%= CardList[index].CardName_Ch %></span></a>
            <%
        }
    }
    %>
    </script>

    <script id="cardSummaryTemplate" type="text/template">
        <%
            // var Card=obj.toJSON();
            // console.log(Card);
        %>
        <div class="main-card-summary col-lg-3 col-md-3">
            <div class="row"></div>
            <div class="row">
                <select class="form-control card-summary-versions">
                <%
                for (var index in Card.Relations){

                    var obj = Card.Relations[index]
                    console.log(Card.Relations[index]);
                    %>
                    <option data-id="<%= obj.Id %>"><%= obj.SerialNo %> <%= obj.Version %></option>
                    <%
                }
                %>
                </select>
            </div>
            <div class="row">
                <div class="card-summary-dummyImg">
                    <div class="img-rounded card-summary-image" style="background-image: url(images/card-img/<%= Card.SerialNo+Card.Img_Suffix %>.png);">
                    </div>
                </div>

            </div>

            <div class="row">
                <span class="label label-default card-summary-illustrator pull-left">
                    <%= Card.Illustrator %>
                </span>
                <button type="button" class="btn btn-primary btn-xs pull-right card-summary-details">详细情报</button>
            </div>
            <div class="row" style="text-align:right;">
            </div>
        </div>
    </script>

    <script id="cardDetailsTemplate" type="text/template">
        <%
            // var Card=obj.toJSON();
            // console.log(Card);
        %>
        <div class="main-card-detail col-lg-4 col-md-3">
            <div class="row"></div>
            <div class="row"></div>
            <div class="row card-detail-tags" style="line-height:0px;">
                <span class="icon"></span>
                <span class="label label-default"><%= Card.SerialNo %></span>
                <span class="label label-default"><%= Card.Rarity %></span>
                <span class="label label-default"><%= Card.Race %></span>
                <span class="label label-default"><%= Card.Type %></span>
            </div>
            <div class="row">
                <span class="card-detail-cardname-ch"><%= Card.CardName_Ch %></span>
            </div>
            <div class="row">
                <span class="card-detail-cardname-jp"><%= Card.CardName_Jp %></span>
            </div>
            <div class="row" style="line-height:32px;">
                <span>COST:</span>
                <span class="card-detail-cost card-detail-fontsize-large">
                    <%= Card.Cost %>
                </span>
                <span>POWER:</span>
                <span class="card-detail-power card-detail-fontsize-large">
                    <%= Card.Power %>
                </span>
                <span>ICON:</span>
                <span class="card-icon card-detail-icon card-detail-fontsize-large">
                    <%= Card.Icon %>
                </span>
            </div>
            <div class="row">
                <textarea class="form-control card-detail-ability-ch" rows="6" readonly="readonly"><%= Card.Ability_Ch %></textarea>
            </div>
            <div class="row">
                <ul class="nav nav-tabs zx-card-tabs">
                  <li class="active" data-tab="desc"><a href="#">Desc.</a></li>
                  <li data-tab="neta"><a href="#">Nta.</a></li>
                  <li data-tab="ruling"><a href="#">Rul.</a></li>
                </ul>
                <div class="zx-tab-pages">
                    <div class="card-description" data-tab="desc">
                        <textarea><%= Card.Description_Ch %></textarea>
                    </div>
                    <div class="card-neta" data-tab="neta" style="display:none;">
                        <textarea><%= Card.Neta %></textarea>
                    </div>
                    <div class="card-ruling" data-tab="ruling" style="display:none;">
                        <textarea><%= Card.Ruling %></textarea>
                    </div>
                </div>
            </div>
        </div>
    </script>
    
</head>
<body>
    <!-- navbar -->
    <nav class="navbar navbar-default" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Zillions of cardS</a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse navbar-ex1-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a data-toggle="modal" href="#modal-about">About</a></li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tools <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="#">Load Db...</a></li>
              <li><a href="#">Save Db As...</a></li>
              <li role="presentation" class="divider"></li>
              <li><a href="http://zx.colintrinity.com/">Z/X db Site</a></li>
            </ul>
          </li>
            <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Languages <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="#">English</a></li>
              <li><a href="#">中文</a></li>
              <li><a href="#">正體字</a></li>
            </ul>
          </li>
        </ul>
      </div><!-- /.navbar-collapse -->
    </nav>

    <!-- main-container -->
    <div class="container">

        <!-- main-left -->
        <div class="col-lg-3 col-md-4 zx-panel-filter">
            <div class="panel" style="background-color:#f7f5fa;">
                <div class="panel-body">
                    <div class="row">
                        <form action="" class="form-inline">
                            <div class="form-group" style="width:68%;">
                                <input type="text" class="form-control filter-keyword" placeholder="Keyword">
                            </div>
                            <div class="form-group" style="width:30%;">
                                <button type="button" class="btn btn-default btn-reset">Reset</button>
                            </div>
                        </form>
                       
                    </div>
                    <div class="row">
                        <select class="form-control filter-types">
                        </select>
                    </div>
                    <div class="row">
                        <div class="btn-group filter-colors" data-toggle="buttons">
                        </div>
                    </div>
                    <div class="row">
                        <form action="" class="form-inline">
                            <div class="form-group" style="width:59%;">
                                <select class="form-control filter-costs">
                                </select>
                            </div>
                            <div class="form-group" style="width:39%;">
                                <select class="form-control filter-cost-method">
                                    <option>=</option>
                                    <option>></option>
                                    <option><</option>
                                </select>
                            </div>
                        </form>
                    </div>

                    <div class="row">
                        <from class="form-inline">
                            <div class="form-group" style="width:59%;">
                                <select class="form-control filter-powers">
                                    <option></option>
                                </select>
                            </div>
                            <div class="form-group" style="width:39%;">
                                <select class="form-control filter-power-method">
                                    <option>=</option>
                                    <option>></option>
                                    <option><</option>
                                </select>
                            </div>
                        </from>
                    </div>

                    <div class="row">
                        <select class="form-control filter-icons">
                        </select>
                    </div>

                    <div class="row">
                        <select class="form-control filter-races">
                        </select>

                    </div>

                    <div class="row">
                        <select class="form-control filter-cardsets">
                        </select>
                    </div>

                    <div class="row">
                        <select class="form-control filter-rarities">
                        </select>
                    </div>

                    <div class="row">
                        <div class="btn-group filter-tags" data-toggle="buttons">
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- main-center -->

        <div class="main-card-summary col-lg-3 col-md-3">

        </div>

        <div class="main-card-detail col-lg-4 col-md-3">

        </div>

        <!-- filter result -->
        <div class="main-filter-result col-lg-2 col-md-2" style="height:100%;">
        </div>
    </div>

    <!-- about    -->
    <div class="modal fade" id="modal-about">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Zillions of cardS</h4>
          </div>
          <div class="modal-body">
            <p>Version: 0.1</p>
            <p >Cards in Database: <span class="about-card-count"></span></p>
            
            <p>Powered by: <a href="#">Larvata</a></p>
            <p>Project Site: <a target="_blank" href="https://github.com/larvata/Zillions-of-cardS">https://github.com/larvata/Zillions-of-cardS</a></p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</body>
</html>